<link rel="stylesheet" href="css/fox-listview.css"/>

/*fox-listview*/
<fox-element name="fox-listview">
    <script>
        (function() {
            menu_swipeLeft = function() {
                /*swipe to show item-menu*/
                var swipeDoms = this.querySelectorAll('a.swipe-left');
                var touchStart = function(e) {
                    isdrag = true;
                    e.preventDefault();
                    var touch = e.touches[0];
                    startX = touch.pageX;
                };
                var touchMove = function(e) {
                    if (isdrag){
                        e.preventDefault();//阻止滚动
                        var touch = e.touches[0];
                        var x = touch.pageX - startX;
                        this.style.left = x + 'px';
                        var menu = this.nextElementSibling;
                        var menuW = menu.children.length*68;
                        if(x <= -menuW){
                            tl = -menuW + 'px';
                            isdrag = false;
                        }else if( x > 0 ){
                            isdrag = false;
                        }else {
                            isdrag = true;
                        }
                    }
                }
                var L = swipeDoms.length;
                for( var i = 0; i < L; i++ ) {
                    swipeDoms[i].addEventListener('touchstart', touchStart);
                    swipeDoms[i].addEventListener('touchmove', touchMove);
                    swipeDoms[i].addEventListener('touchend', function() {
                        isdrag = false;
                        if(parseInt(this.style.left) >= 0) {
                            this.style.left = '0px';
                        }
                    });
                }
            }

            fox('fox-listview', {
                lifecycle: {
                    created: function() {
                        menu_swipeLeft.call(this);
                    }
                }
            });
        })();
    </script>
    </fox-element>